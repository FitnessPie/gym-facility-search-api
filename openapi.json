{"openapi":"3.0.0","paths":{"/api/v1/facilities":{"get":{"description":"Retrieve facilities with optional filtering by name (partial matching) and amenities. Returns paginated results. Optimized for 100,000+ facilities with caching.","operationId":"FacilitiesController_getFacilities","parameters":[{"name":"name","required":false,"in":"query","schema":{"type":"string"}},{"name":"amenities","required":false,"in":"query","description":"Filter by amenities. Can be a single value or multiple values","schema":{"example":["Pool","Gym"],"type":"array","items":{"type":"string"}}},{"name":"page","required":false,"in":"query","schema":{"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"default":20,"type":"number"}}],"responses":{"200":{"description":"Facilities retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedFacilitiesResponseDto"}}}},"401":{"description":"Unauthorized - Valid JWT token required"},"429":{"description":"Too many requests - Rate limit exceeded"}},"security":[{"JWT-auth":[]}],"summary":"Get facilities","tags":["facilities"]}},"/api/v1/facilities/{id}":{"get":{"description":"Retrieve a single facility with complete details including name, address, coordinates, and amenities.","operationId":"FacilitiesController_getFacilityById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Facility retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FacilityResponseDto"}}}},"401":{"description":"Unauthorized - Valid JWT token required"},"404":{"description":"Facility not found"}},"security":[{"JWT-auth":[]}],"summary":"Get facility by ID","tags":["facilities"]}},"/api/v1/auth/login":{"post":{"description":"Authenticate user and receive JWT token. Use password \"error\" to simulate failed login.","operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"401":{"description":"Invalid credentials"}},"summary":"User login","tags":["auth"]}},"/api/v1/health":{"get":{"description":"Check if the API is running and all dependencies are healthy","operationId":"HealthController_check","parameters":[],"responses":{"200":{"description":"API is healthy","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"timestamp":{"type":"string","example":"2025-11-26T00:00:00.000Z"},"uptime":{"type":"number","example":12345.67},"services":{"type":"object","properties":{"database":{"type":"string","example":"connected"},"cache":{"type":"string","example":"connected"}}}}}}}},"503":{"description":"API is unhealthy"}},"summary":"Health check","tags":["health"]}}},"info":{"title":"Facility Search API","description":"Production-ready RESTful API for searching and filtering fitness facilities","version":"1.0","contact":{}},"tags":[{"name":"facilities","description":""},{"name":"auth","description":""},{"name":"health","description":""}],"servers":[],"components":{"securitySchemes":{"JWT-auth":{"scheme":"bearer","bearerFormat":"JWT","type":"http","name":"JWT","description":"Enter JWT token","in":"header"}},"schemas":{"FacilityResponseDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"address":{"type":"string"},"location":{"type":"object"},"facilities":{"type":"array","items":{"type":"string"}}},"required":["id","name","address","location","facilities"]},"PaginatedFacilitiesResponseDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/FacilityResponseDto"}},"meta":{"type":"object"}},"required":["data","meta"]},"LoginDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"AuthResponseDto":{"type":"object","properties":{"token":{"type":"string"},"user":{"type":"object"}},"required":["token","user"]}}}}